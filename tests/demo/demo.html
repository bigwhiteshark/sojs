<!DOCTYPE html>
<html>
<meta charset='utf-8'>
<head>
	<script type="text/javascript" src="../../src/so.js"></script>
	<!--<script type="text/javascript" src="../../src/so-cache.js"></script>-->
</head>
<body>
<div id='testcss'>测试so-css.js</div>
<div id='testcssText'>测试cssText</div>
<script type="text/javascript">
	sojs.config({
		base:'.',
		map:[['http://sv.so.com/p.js','mods/p.js']],
		mode:'cmd'/*,
		preload:['http://sv.so.com/p.js','http://sv.so.com/l.js']*/
	});
	sojs.config({
		map:[['http://sv.so.com/l.js','mods/l.js']]
	});

	//inline mods,only sync mode
	define('mods/teacher',['mods/person'],function(require,exports,module){
		require('mods/person');
		console.log('teacher mods');
		function Teacher(){

		}

		Teacher.prototype.teaching = function(name){
			console.log(name)
		}
		module.exports = Teacher
	})


	define('mods/person', function(require, exports, module) {
		console.log('person mods');
		function Person(){

		}
		var p = Person.prototype;
		p.output = function(a){
			console.log(a)
		}

		return Person
	});
	var Teacher = require('mods/teacher');
	var t = new Teacher();
	t.teaching('math course')
	//debugger;
	/*var p = sojs.use('mods/teacher.js',function(){
		require('mods/person.js');
		//require('mods/teacher.js');
	});*/

	/*sojs.use('mods/main',function(a){
		console.log(a)
		//ar Dep = require('mods/dep');
		//console.log(Dep)
		//(new Dep).say('say entry');
		console.log('entry')
	});*/

	/*	function init(){
			require('mods/main');
		}
		init();*/
		/*sojs.on('request',function(mod){
			mod.tmpl = 'tmpl';
			console.log(mod.uri + '   ' + mod.tmpl)
		})*/

	/*function init(){

		(function(){
			require('mods/main');
		})()

	}
	init();*/

	/*sojs.use('http://sv.so.com/p.js',function(){
		console.log('ddddd');
		//debugger;
		//sojs.use('mods/main');
		//require('mods/main');
	});*/

	//require('mods/main');
	/*require(['mods/main']);*/
	/*require('mods/main',function(){
		console.log('boot');
	});*/
	/*require(['mods/main'],function(){
		console.log('boot');
	});*/
	/*require.async('mods/main',function(){
		console.log('boot');
	});*/
	/*require.async(['mods/main'],function(){
		console.log('boot');
	});*/
	//sojs.use('mods/main');
	//sojs.use(['mods/main']);
	/*sojs.use('mods/main',function(){
		console.log('boot');
	});*/
	/*sojs.use(['mods/main'],function(){
		console.log('boot');
	});*/

	sojs.use('mods/main',function(main){
		console.log(main,'boot');
	});
</script>
</body>
</html>
