<!DOCTYPE html>
<html>
<meta charset='utf-8'>
<head>
	<script type="text/javascript" src="../src/so.js"></script>
	<!--<script type="text/javascript" src="../src/so-text.js"></script>-->
</head>
<body>
<script type="text/javascript">
	sojs.config({
		base:'.',
		preload:['http://sv.so.com/p.js','http://sv.so.com/l.js']
	});

	//inline mods,only sync mode
	define('mods/teacher',function(require,exports,module){
		console.log('teacher mods')
		function Teacher(){

		}

		Teacher.prototype.teaching = function(name){
			console.log(name)
		}
		module.exports = Teacher
	})


	define('mods/person', function(require, exports, module) {
		var Teacher = require('mods/teacher');
		function Person(){

		}
		var p = Person.prototype;
		p.output = function(a){
			console.log(a)
		}

		var t = new Teacher();
		t.teaching('math course')

		return Person
	});
	//var p = require('mods/person');
	var p = sojs.run('mods/person');
	console.log(p);

	/*sojs.use('mods/main',function(a){
		console.log(a)
		//ar Dep = require('mods/dep');
		//console.log(Dep)
		//(new Dep).say('say entry');
		console.log('entry')
	});*/

/*	function init(){
		require('mods/main');
	}
	init();*/
	/*sojs.on('request',function(mod){
		mod.tmpl = 'tmpl';
		console.log(mod.uri + '   ' + mod.tmpl)
	})*/

/*function init(){

	(function(){
		require('mods/main');
	})()

}
init();*/
//debugger;
/*sojs.run('http://sv.so.com/p.js',function(){
	console.log('ddddd');
	//debugger;
	//sojs.run('mods/main');
	//require('mods/main');
});*/

//sojs.run('mods/main');
/*sojs.run(['mods/main'],function(){
	console.log('boot');
});*/
/*require('mods/main',function(){
	console.log('boot');
});*/
sojs.run('mods/main');

	
</script>
</body>
</html>
